#!/usr/bin/env python
"""
Simple example that parametrizes a 2d joint-space path.
"""
from matplotlib import pyplot as plt
import matplotlib.patches
import matplotlib.collections
import numpy as np

import traj

# Test path
path = np.array([(0.0, 0.0), (1.0, 1.0), (1.5, 0.8), (-0.2, 0.4)])

blend_radius = 0.2

path_function = traj.parameterize_path(path)

blended_path_function = traj.blend_parameterized_path(path_function, blend_radius)

# Plot sampled points along the parameterized path.
traj.plot.plot_2d_path(plt.gca(), blended_path_function, 100)

# Plot the waypoints in the original path for comparison.
plt.plot([q[0] for q in path], [q[1] for q in path], 'bx', label='original waypoints')

# Plot the blend radii as circles around each waypoint.
blend_patches = matplotlib.collections.PatchCollection(
    [matplotlib.patches.Circle((q[0], q[1]), blend_radius) for q in path])
plt.gca().add_collection(blend_patches)

plt.gca().set_aspect('equal')
plt.legend()
plt.show()
